extends ../../layout/default
block main 
    h1 Danh sách tài khoản
    card.mb-3 
        .card-header Danh sách 
        .card-body
            .row 
                .col-8
                .col-4
                    a(
                        href=`${prefixAdmin}/accounts/create`
                        class="btn btn-success"
                    ) Thêm Tài khoản
            table(class="table table-hover table-sm")
                thead 
                    tr 
                        th STT
                        th Ảnh đại diện
                        th Họ và tên
                        th Email
                        th Số điện thoại
                        th Trạng thái
                        th Chức vụ
                        th Thao tác
                tbody
                    if(accounts.length > 0)
                        each account, index in accounts
                            tr 
                                td #{index + 1}
                                td 
                                    img(src=account.avatar, alt="" width="50" height="50")
                                td #{account.fullName}
                                td #{account.email}
                                td #{account.phone}
                                td 
                                    if(account.status === "active")
                                        a.badge.rounded-pill.text-bg-success(href=`javascript:;` data-status=account.status data-id=account.id button-change-status) Hoạt động
                                    else
                                        a.badge.rounded-pill.text-bg-warning(href=`javascript:;` data-status=account.status data-id=account.id button-change-status) Ngừng hoạt động
                                td #{account.role_id}
                                td 
                                    a(href=`${prefixAdmin}/accounts/edit/${account._id}` class="btn btn-primary btn-sm me-2") Sửa
                                    a(href=`${prefixAdmin}/accounts/detail/${account._id}` class="btn btn-danger btn-sm me-2") Chi tiết
                                    a(href="javascript:;" data-id=account._id button-delete class="btn btn-danger btn-sm me-2") Xóa
                    else
                        tr 
                            td(colspan="4") Không có dữ liệu
    
    form(action=""
        class="d-none"
        id="form-change-status"
        data-path=`${prefixAdmin}/accounts/changeStatus`
        method="POST"
    ) 
    form(action=""
        class="d-none"
        id="form-delete"
        data-path=`${prefixAdmin}/accounts/delete`
        method="POST") 
    script(src="/admin/js/account.js")
    script(src="/admin/js/script.js")